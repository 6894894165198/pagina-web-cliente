<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cotiza tu pedido | SINDUGRAF</title>
    <link rel="stylesheet" href="style.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<div id="alertaCustom" class="alert alert-danger d-none position-fixed top-0 start-50 translate-middle-x mt-3" role="alert" style="z-index: 9999;">
  <strong>Sindugraf:</strong> Por favor, completa todos los campos obligatorios antes de continuar.
</div>
<body>
  <div id="alertaCustom" class="alert alert-danger d-none position-fixed top-0 start-50 translate-middle-x mt-3 alert-custom" role="alert">
    <strong>Sindugraf:</strong> Por favor, completa todos los campos obligatorios antes de continuar.
  </div>

  <header class="header bg-azul">
    <nav class="navbar navbar-expand-lg container">
      <a class="navbar-brand text-white fw-bold" href="index.html">SINDUGRAF</a>
      <button class="navbar-toggler text-white" type="button" data-bs-toggle="collapse" data-bs-target="#menuPrincipal">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="menuPrincipal">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link text-white" href="index.html">Inicio</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="servicios.html">Servicios</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="catalogo.html">Cat√°logo</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="cotiza.html">Cotiza</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="contacto.html">Contacto</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <section class="formulario-caja">
    <h2>Solicita tu cotizaci√≥n</h2>
    <form id="cotizaForm" action="#" method="POST" enctype="multipart/form-data">
      <div class="mb-3">
        <label for="servicio" class="form-label">Servicio requerido</label>
        <select class="form-select" id="servicio" name="servicio" required>
          <option value="">Seleccione un servicio</option>
          <option value="Revistas">Revistas</option>
          <option value="Afiches">Afiches</option>
          <option value="Cajas">Cajas</option>
          <option value="Etiquetas">Etiquetas</option>
          <option value="Brochures">Brochures</option>
          <option value="Literaturas">Literaturas</option>
          <option value="Formularios">Formularios</option>
          <option value="Encuadernacion">Encuadernaci√≥n</option>
          <option value="CajaLicores">Caja para Licores</option>
          <option value="CajaAlimentos">Cajas para Alimentos</option>
          <option value="LibrosAgendas">Libros y Agendas</option>
          <option value="TarjetasPersonales">Tarjetas Personales</option>
          <option value="Gigantografias">Gigantograf√≠as</option>
          <option value="Serigrafia">Serigraf√≠a</option>
          <option value="Otro">Otro</option>
        </select>
      </div>

      <div class="mb-3">
        <label for="cantidad" class="form-label">Cantidad</label>
        <input type="number" class="form-control" id="cantidad" name="cantidad" min="1" placeholder="Ej: 500" required />
      </div>

      <div class="mb-3">
        <label for="tamano" class="form-label">Tama√±o o formato</label>
        <select class="form-select" id="tamano" name="tamano" required>
          <option value="">Seleccione un tama√±o/formato</option>
          <option value="A3">A3</option>
          <option value="A4">A4</option>
          <option value="A5">A5</option>
          <option value="Carta">Carta</option>
          <option value="Oficio">Oficio</option>
          <option value="Sticker circular">Sticker circular</option>
          <option value="Sticker rectangular">Sticker rectangular</option>
          <option value="Plano A1 / A2 / A3">Plano A1 / A2 / A3</option>
          <option value="Otro">Otro (especificar en detalles)</option>
        </select>
      </div>

      <div class="mb-3">
        <label for="detalles" class="form-label">Detalles adicionales</label>
        <textarea class="form-control" id="detalles" name="detalles" rows="3" placeholder="Especificaciones, acabados, plazos..."></textarea>
      </div>

      <hr />

      <div class="mb-3">
        <label for="nombre" class="form-label">Tu nombre completo</label>
        <input type="text" class="form-control" id="nombre" name="nombre" required />
      </div>

      <div class="mb-3">
        <label for="correo" class="form-label">Correo electr√≥nico</label>
        <input type="email" class="form-control" id="correo" name="correo" required />
      </div>

      <div class="mb-3">
        <label for="telefono" class="form-label">Tel√©fono o WhatsApp</label>
        <input type="tel" class="form-control" id="telefono" name="telefono" required />
      </div>

      <div class="d-grid">
        <button type="button" class="btn btn-enviar" onclick="enviarWhatsApp()">Enviar solicitud</button>
      </div>
    </form>
  </section>

  <footer class="footer">
    <div class="container text-center">
      <p>&copy; 2025 Sindugraf | Artes Gr√°ficas</p>
    </div>
  </footer>

  <!-- Bot√≥n flotante del chatbot -->
  <div id="chatbot-btn" title="Abrir chat">
    üí¨
  </div>

  <script>
  function enviarWhatsApp() {
    //N√∫mero 
    const numeroWhatsApp = "51947234694";

    //Obtener valores del formulario
    const servicio = document.getElementById("servicio").value.trim();
    const cantidad = document.getElementById("cantidad").value.trim();
    const tamano = document.getElementById("tamano").value.trim();
    const detalles = document.getElementById("detalles").value.trim();
    const nombre = document.getElementById("nombre").value.trim();
    const correo = document.getElementById("correo").value.trim();
    const telefono = document.getElementById("telefono").value.trim();
    
    //Validamos los datos
    if (!servicio || !cantidad || !nombre || !correo || !telefono) {
        mostrarAlerta("Por favor, completa todos los campos obligatorios antes de continuar.");
        return;
    }

    //validamos cantidad valida (mayor  0)
    if (isNaN(cantidad) || cantidad <= 0) {
      alert("La cantidad debe ser un n√∫mero mayor a 0.");
      return;
    }

    // Validar email simple
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(correo)) {
      alert("Por favor, ingresa un correo electr√≥nico v√°lido.");
      return;
    }
    // Validar tel√©fono: debe tener 9 d√≠gitos y comenzar con 9
    const telefonoRegex = /^9\d{8}$/;
    if (!telefonoRegex.test(telefono)) {
        alert("El n√∫mero de tel√©fono debe tener 9 d√≠gitos y comenzar con 9.");
        return;
    }

    function mostrarAlerta(mensaje) {
        const alerta = document.getElementById("alertaCustom");
        alerta.innerHTML = `<strong>Sindugraf:</strong> ${mensaje}`;
        alerta.classList.remove("d-none");

    // Ocultar despu√©s de 3 segundos
    setTimeout(() => {
        alerta.classList.add("d-none");
    }, 4000);
}
    //mensaje para WhatsApp
    let mensaje = `*Solicitud de Cotizaci√≥n - Sindugraf*\n`;
    mensaje += `--------------------------\n`;
    mensaje += `*Servicio:* ${servicio}\n`;
    mensaje += `*Cantidad:* ${cantidad}\n`;
    mensaje += `*Tama√±o/Formato:* ${tamano}\n`;
    mensaje += `*Detalles:* ${detalles}\n`;
    mensaje += `--------------------------\n`;
    mensaje += `*Nombre:* ${nombre}\n`;
    mensaje += `*Correo:* ${correo}\n`;
    mensaje += `*Tel√©fono:* ${telefono}`;

    //WhatsApp con el mensaje
    const url = `https://wa.me/${numeroWhatsApp}?text=${encodeURIComponent(mensaje)}`;
    window.open(url, "_blank");
  }
</script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const params = new URLSearchParams(window.location.search);
    const servicioSeleccionado = params.get("servicio");

    if (servicioSeleccionado) {
      const select = document.getElementById("servicio");
      if (select) {
        select.value = servicioSeleccionado;
      }
    }
  });
</script>
 <script src="js/chatbot.js"></script>
</body>

</html>